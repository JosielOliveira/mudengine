spring:
  application:
    name: mud-message
  cloud:
    vault:
      enabled: false
    consul:
      enabled: false
      config:
        enabled: false
      discovery:
        enabled: false

management:
  info:
    build:
      enabled: true
      
  endpoint:
    info:
      enabled: true

---

spring:
  profiles: itg

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    properties:
      hibernate:
        jdbc:
          lob:
            non_contextual_creation: true
      
  datasource:
    platform: postgres
    tomcat:
      max-active: 5
  
  cloud:
    vault:
      uri: ${VAULT_ADDR}
      token: ${VAULT_TOKEN}
      enabled: true      
      fail-fast: true
    consul:
      enabled: true
      host: ${CONSUL_HOST}
      port: ${CONSUL_PORT}
      discovery:
        enabled: true
        register: false
      config:
        enabled: true
        fail-fast: true

server:
  port: 8080
     
---

spring:
  profiles: qa, prod 

  jpa:
    hibernate.ddl-auto: validate
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
    properties:
      hibernate:
        jdbc:
          lob:
            non_contextual_creation: true
      
  datasource:
    platform: postgres
    tomcat:
      max-active: 5
  
  cloud:
    vault:
      uri: ${VAULT_ADDR}
      token: ${VAULT_TOKEN}
      enabled: true      
      fail-fast: true
    consul:
      enabled: true
      host: ${CONSUL_HOST}
      port: ${CONSUL_PORT}
      discovery:
        enabled: true
        hostname: ${EXPOSED_HOST:mud-message}
        port: ${EXPOSED_PORT:8080}
      config:
        enabled: true
        fail-fast: true
      retry:
        max-attempts: 6
        initial-interval: 10000   
        max-interval: 10000 

server:
  port: 8080
